<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Driving directions</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js'></script>
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
<link href='https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css' rel='stylesheet' />
<style>
  body { margin:0; padding:0; }
  #map { position:absolute; top:0; bottom:0; width:100%; }
  #button {
    width: 6em;
    border: 2px solid blue;
    background: #ffe;
    border-radius: 5px;
}
a {
    display: block;
    width: 3%;
    line-height: 2em;
    text-align: center;
    text-decoration: none;
    border-radius: 5px;
}
a:hover {
    color: red;
    background: #eff;
}
</style>
</head>
<body>
 


<script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.3/mapbox-gl-directions.js'></script>
<link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v3.1.3/mapbox-gl-directions.css' type='text/css' />
<div id='map'></div>
<div id='inputs'></div>
<div id='errors'></div>
<div id='directions'>
  <div id='routes'></div>
  <div id='instructions'></div>
</div>


<script>
mapboxgl.accessToken = 'pk.eyJ1IjoidGhlbHVja3lhdXRob3IiLCJhIjoiY2ptZWc0cDl1MG1veTN2bXphdnVnejVzcCJ9.1Yf2MjsxrzlgZgjlYfJZKg';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-74.1,4.6375758],
    zoom: 12
});

map.addControl(new MapboxDirections({
    accessToken: mapboxgl.accessToken
}), 'top-left');


// Add geolocate control to the map.
map.addControl(new mapboxgl.GeolocateControl({
    positionOptions: {
        enableHighAccuracy: true
    },
    trackUserLocation: true
}));

map.on("load", function () {
  /* Image: An image is loaded and added to the map. */
  map.loadImage("https://raw.githubusercontent.com/sofiaalvarezlopez/citimo/master/warningfinal.png", function(error, image) {
      if (error) throw error;
      map.addImage("custom-marker", image);
      /* Style layer: A style layer ties together the source and image and specifies how they are displayed on the map. */
      map.addLayer({
        id: "markers",
        type: "symbol",
        /* Source: A data source specifies the geographic coordinate where the image marker gets placed. */
        source: {
          type: "geojson",
          data: {
            type: "FeatureCollection",
            features:[{"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03458","4.81198"]}}, 
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03599","4.80481"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.04012","4.79819"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03703","4.79152"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.04738","4.76615"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03983","4.77242"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.02871","4.76991"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03081","4.75653"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03185","4.74566"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06958","4.76764]"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.05828","4.76649"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.05805","4.76097"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09681","4.74646"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09408","4.74477"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09916","4.74305"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.10714","4.70412"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.10964","4.70293"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09996","4.70456"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.10215","4.696315"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.10382","4.68991"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.10721","4.69900"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09880","4.69968"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.12090","4.55300"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.12090","4.55300"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.12404","4.55904"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.12988","4.56674"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11804","4.55730"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.18866","4.61225"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.18840","4.60865"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.18765","4.60396"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.20421","4.61089"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.04212","4.70154"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.13675","4.65999"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.08509","4.61223"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.09342","4.59687"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.13329","4.65000"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.14840","4.58395"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.13147","4.65839"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11545","4.62054"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.13329","4.65000"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.07280","4.72883"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.03649","4.72105"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.05679","4.66488"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11528","4.64448"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11773","4.58800"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.16918","4.63030"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.07185","4.64056"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06876","4.69857"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06876","4.69857"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06876","4.69857"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06734","4.74429"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.06239","4.71626"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.04506","4.68473"]}},
            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11975","4.67478"]}},

            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.13329","4.65000"]}},

            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.14309","4.61721"]}},

            {"type":"Feature","geometry":{"type":"Point","coordinates":["-74.11985","4.56303"]}}]}
        },
        layout: {
          "icon-image": "custom-marker",
        }
      });
    });
});

</script>
</body>
</html>

